var util = require('./TestUtils.js')

describe("Function of the complex FFT routines", function () {

    it("should work for complex size 2", function () {
        const re = new Float64Array([ 3.,-1. ]);
        const im = new Float64Array([ 5.,-1. ]);
        expect( util.TestCorrectnessComplex(re, im) ).toEqual({
            "reDiffsForwards": 0,
            "imDiffsForwards": 0,
            "reDiffsBackwards": 0,
            "imDiffsBackwards": 0
        })
    });

    it("should work for complex size 4", function () {
        const re = new Float64Array([ 10,    -4,    -2,     0 ]);
        const im = new Float64Array([ 14,     0,    -2,    -4 ]);
        expect( util.TestCorrectnessComplex(re, im) ).toEqual({
            "reDiffsForwards": 0,
            "imDiffsForwards": 0,
            "reDiffsBackwards": 0,
            "imDiffsBackwards": 0
        })
    });

    it("should work for complex size 128", function () {
        const re = new Float64Array([ 8256,-2671.07096781333,-1366.74992799918,-931.626831510555,-713.802904806967,-582.898291435322,-495.452953946559,-432.841088327604,-385.749727496054,-349.004942362522,-319.502322161285,-295.266283603675,-274.979725372052,-257.730765076338,-242.868017439391,-229.913761135237,-218.509667991878,-208.381686523466,-199.316630883113,-191.146162709975,-183.735578354521,-176.975799686028,-170.777549157344,-165.067044349453,-159.782768810591,-154.873017823622,-150.29401046315,-146.008421122339,-141.98422563763,-138.19378606934,-134.613118446942,-131.221302159351,-128,-124.933065388859,-122.006218817225,-119.206779664431,-116.523442613034,-113.946090217852,-111.46563496141,-109.073885495363,-106.763432826835,-104.527553035364,-102.360123755643,-100.255552174742,-98.2087127008507,-96.2148927871548,-94.2697456570445,-92.3692488890154,-90.5096679918781,-88.6875242413517,-86.8995661641295,-85.1427441500374,-83.4141877508699,-81.7111852889865,-80.0311654522436,-78.3716805962963,-76.7303915122981,-75.1050534488228,-73.4935032024542,-71.8936471127513,-70.3034498148585,-68.7209236174368,-67.144118385246,-65.5711118149713,-64,-62.4288881850289,-60.855881614754,-59.2790763825633,-57.6965501851415,-56.1063528872487,-54.5064967975457,-52.8949465511772,-51.2696084877019,-49.6283194037037,-47.9688345477564,-46.2888147110135,-44.5858122491301,-42.8572558499626,-41.1004338358705,-39.3124757586483,-37.4903320081219,-35.6307511109848,-33.7302543429555,-31.7851072128451,-29.7912872991493,-27.744447825258,-25.6398762443569,-23.4724469646356,-21.2365671731648,-18.9261145046371,-16.5343650385897,-14.0539097821476,-11.4765573869657,-8.79322033556861,-5.99378118277463,-3.0669346111406,0,3.22130215935101,6.61311844694239,10.1937860693398,13.9842256376305,18.0084211223394,22.2940104631501,26.8730178236219,31.7827688105913,37.0670443494534,42.7775491573444,48.9757996860282,55.7355783545209,63.1461627099753,71.3166308831131,80.3816865234661,90.5096679918781,101.913761135237,114.868017439391,129.730765076338,146.979725372053,167.266283603676,191.502322161285,221.004942362522,257.749727496054,304.841088327604,367.452953946559,454.898291435322,585.802904806967,803.626831510555,1238.74992799918,2543.07096781333]);
        const im = new Float64Array([8384,2543.07096781333,1238.74992799918,803.626831510555,585.802904806967,454.898291435322,367.452953946559,304.841088327604,257.749727496054,221.004942362522,191.502322161285,167.266283603675,146.979725372052,129.730765076337,114.86801743939,101.913761135237,90.5096679918781,80.3816865234662,71.316630883113,63.1461627099754,55.7355783545209,48.9757996860282,42.7775491573445,37.0670443494534,31.7827688105913,26.8730178236219,22.2940104631501,18.0084211223395,13.9842256376305,10.1937860693399,6.61311844694251,3.22130215935113,0,-3.06693461114082,-5.99378118277451,-8.79322033556866,-11.4765573869657,-14.0539097821476,-16.5343650385897,-18.9261145046372,-21.2365671731649,-23.4724469646356,-25.6398762443569,-27.744447825258,-29.7912872991493,-31.7851072128451,-33.7302543429555,-35.6307511109846,-37.4903320081219,-39.3124757586482,-41.1004338358705,-42.8572558499626,-44.5858122491301,-46.2888147110135,-47.9688345477564,-49.6283194037037,-51.2696084877019,-52.8949465511772,-54.5064967975458,-56.1063528872487,-57.6965501851415,-59.2790763825633,-60.8558816147541,-62.4288881850288,-64,-65.5711118149713,-67.144118385246,-68.7209236174367,-70.3034498148586,-71.8936471127513,-73.4935032024543,-75.1050534488227,-76.7303915122981,-78.3716805962963,-80.0311654522435,-81.7111852889865,-83.4141877508699,-85.1427441500374,-86.8995661641295,-88.6875242413517,-90.5096679918781,-92.3692488890154,-94.2697456570445,-96.2148927871548,-98.2087127008507,-100.255552174742,-102.360123755643,-104.527553035364,-106.763432826835,-109.073885495363,-111.46563496141,-113.946090217852,-116.523442613034,-119.206779664431,-122.006218817225,-124.933065388859,-128,-131.221302159351,-134.613118446942,-138.19378606934,-141.98422563763,-146.008421122339,-150.29401046315,-154.873017823622,-159.782768810591,-165.067044349453,-170.777549157344,-176.975799686028,-183.735578354521,-191.146162709975,-199.316630883113,-208.381686523466,-218.509667991878,-229.913761135237,-242.868017439391,-257.730765076338,-274.979725372052,-295.266283603675,-319.502322161285,-349.004942362522,-385.749727496054,-432.841088327604,-495.452953946559,-582.898291435322,-713.802904806967,-931.626831510555,-1366.74992799918,-2671.07096781333]);
        expect( util.TestCorrectnessComplex(re, im) ).toEqual({
            "reDiffsForwards": 0,
            "imDiffsForwards": 0,
            "reDiffsBackwards": 0,
            "imDiffsBackwards": 0
        })
    });

});
